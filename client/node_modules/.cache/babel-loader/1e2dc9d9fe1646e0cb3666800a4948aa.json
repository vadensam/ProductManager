{"ast":null,"code":"var _jsxFileName = \"/Users/samuelvaden/Desktop/Coding_Dojo/MongoStuff/ProdManager/client/src/components/ProdForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\nexport default (props => {\n  const {\n    id,\n    action\n  } = props;\n  const [state, setState] = useState({\n    title: \"\",\n    price: \"\",\n    desc: \"\"\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (action === \"edit\") {\n      axios.put(`http://localhost:8000/api/products/${id}`, state).then(res => {\n        if (res.data.message === \"success\") {\n          navigate('/');\n        }\n      }).catch(err => console.log(err));\n    } else {\n      axios.post('http://localhost:8000/api/create', state).then(res => {\n        if (res.data.message === \"success\") {\n          console.log(res.data.result);\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  useEffect(() => {\n    if (action === \"edit\") {\n      axios.get(`http://localhost:8000/api/products/${id}`).then(res => {\n        setState({ ...state,\n          title: res.data.result.title,\n          price: res.data.result.price,\n          desc: res.data.result.desc\n        });\n      });\n    }\n  }, []);\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \" Title: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    name: \"title\",\n    value: state.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \" Price: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    onChange: handleChange,\n    name: \"price\",\n    value: state.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \" Description: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    name: \"desc\",\n    value: state.desc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }));\n});","map":{"version":3,"sources":["/Users/samuelvaden/Desktop/Coding_Dojo/MongoStuff/ProdManager/client/src/components/ProdForm.js"],"names":["React","useState","useEffect","axios","navigate","props","id","action","state","setState","title","price","desc","handleSubmit","e","preventDefault","put","then","res","data","message","catch","err","console","log","post","result","get","handleChange","target","name","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {navigate} from '@reach/router';\n\nexport default props =>{\n\n    const {id, action} = props\n    const [state, setState] = useState({\n        title: \"\", price: \"\", desc: \"\" \n    })\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(action === \"edit\"){\n            axios.put(`http://localhost:8000/api/products/${id}`, state)\n                .then(res => {\n                    if(res.data.message === \"success\"){\n                        navigate('/');\n                    }\n                })\n                .catch(err => console.log(err))\n        }\n        else{\n            axios.post('http://localhost:8000/api/create', state)\n                .then(res => {\n                    if(res.data.message === \"success\"){\n                        console.log(res.data.result)\n                    }\n                })\n                .catch(err => console.log(err))\n        }\n    }\n\n    useEffect(() =>{\n        if(action === \"edit\"){\n            axios.get(`http://localhost:8000/api/products/${id}`)\n                .then(res=>{\n                    setState({\n                        ...state,\n                        title: res.data.result.title,\n                        price: res.data.result.price,\n                        desc: res.data.result.desc\n                    })\n                })\n        }\n    }, [])\n\n    const handleChange = e =>{\n        setState({\n            ...state,\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n\n\n\n    return(\n        <form onSubmit={handleSubmit}>\n            <p>\n                <label> Title: </label><br/>\n                <input type=\"text\" onChange={handleChange} name=\"title\"  value={state.title}/>\n            </p>\n            <p>\n                <label> Price: </label><br/>\n                <input type=\"number\" onChange={handleChange} name=\"price\" value={state.price}/>\n            </p>\n            <p>\n                <label> Description: </label><br/>\n                <input type=\"text\" onChange={handleChange} name=\"desc\" value={state.desc}/>\n            </p>\n            <input type=\"submit\" value=\"submit\"/>\n         \n        </form>\n\n    )\n\n}"]},"metadata":{},"sourceType":"module"}