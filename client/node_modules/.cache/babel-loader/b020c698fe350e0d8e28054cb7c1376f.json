{"ast":null,"code":"var _jsxFileName = \"/Users/samuelvaden/Desktop/Coding_Dojo/MongoStuff/ProdManager/client/src/views/Update.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\nexport default (props => {\n  const [products, setProducts] = useState([{}]);\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/products').then(res => {\n      setProducts(res.data);\n    });\n  }, []);\n\n  const rmFromDom = prodID => {\n    setProducts(products.filter(prod => prod._id !== prodID));\n  };\n\n  const deleteProd = prodID => {\n    axios.delete(`http://localhost:8000/api/products/${prodID}`).then(res => {\n      rmFromDom(prodID);\n    });\n    navigate('/');\n  };\n\n  const {\n    id\n  } = props;\n  const [state, setState] = useState({\n    title: \"\",\n    price: \"\",\n    desc: \"\"\n  });\n  const {\n    title,\n    price,\n    desc\n  } = state;\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/products/${id}`).then(res => {\n      setState({ ...state,\n        title: res.data.title,\n        price: res.data.price,\n        desc: res.data.desc\n      });\n    });\n  }, []);\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.put(`http://localhost:8000/api/products/${id}`, {\n      title,\n      price,\n      desc\n    }).then(res => console.log(res));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Update Product\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      deleteProd(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \" Title: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    onChange: handleChange,\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \" Price: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    onChange: handleChange,\n    value: price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \" Description: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"desc\",\n    onChange: handleChange,\n    value: desc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })));\n});","map":{"version":3,"sources":["/Users/samuelvaden/Desktop/Coding_Dojo/MongoStuff/ProdManager/client/src/views/Update.js"],"names":["React","useState","useEffect","axios","navigate","props","products","setProducts","get","then","res","data","rmFromDom","prodID","filter","prod","_id","deleteProd","delete","id","state","setState","title","price","desc","handleChange","e","target","name","value","handleSubmit","preventDefault","put","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {navigate} from '@reach/router';\n\nexport default props =>{\n\n    const [products, setProducts] = useState([{}]);\n    useEffect(()=>{\n        axios.get('http://localhost:8000/api/products')\n            .then(res=>{\n                setProducts(res.data);\n            })\n    }, [])\n    const rmFromDom = prodID => {\n        setProducts(products.filter(prod => prod._id !== prodID))\n    }\n    const deleteProd = (prodID) =>{\n        axios.delete(`http://localhost:8000/api/products/${prodID}`)\n            .then(res=>{\n                rmFromDom(prodID)\n            })\n        navigate('/')\n    }\n\n    const {id} = props\n    const [state, setState] = useState({\n        title: \"\", price: \"\", desc: \"\" \n    })\n\n    const {title, price, desc} = state\n\n    useEffect(() =>{\n        axios.get(`http://localhost:8000/api/products/${id}`)\n            .then(res=>{\n                setState({\n                    ...state,\n                    title: res.data.title,\n                    price: res.data.price,\n                    desc: res.data.desc\n                })\n            })\n    }, [])\n\n    const handleChange = e =>{\n        setState({\n            ...state,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const handleSubmit = e =>{\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/products/${id}`, {\n            title,\n            price,\n            desc\n        })\n            .then(res => console.log(res))\n    }\n\n    return(\n        <div>\n            <h1>Update Product</h1>\n            <button onClick={(e) => {deleteProd(id)}}>Delete</button>\n            <form onSubmit={handleSubmit}>\n            <p>\n                <label> Title: </label><br/>\n                <input type=\"text\" name=\"title\" onChange={handleChange} value={title}/>\n            </p>\n            <p>\n                <label> Price: </label><br/>\n                <input type=\"number\" name=\"price\" onChange={handleChange} value={price}/>\n            </p>\n            <p>\n                <label> Description: </label><br/>\n                <input type=\"text\" name=\"desc\" onChange={handleChange} value={desc}/>\n            </p>\n            <input type=\"submit\" value=\"submit\"/>\n            </form>\n        </div>\n\n\n    )\n\n\n}"]},"metadata":{},"sourceType":"module"}